"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[472],{52503:(e,t,i)=>{i(22731);var s=i(79124),n=i(7367),a=i(33705),o=i(63745),r=i(93209),l=i(46090),c=i(99993),m=i(83564),d=i(27168),p=i(42135),h=i(46836),u=i(73280),x=i(73867),g=i(86106);function j({title:e,description:t,htmlFor:i}){return(0,g.jsxs)("div",{className:"mailpoet-settings-label",children:[(0,g.jsx)("label",{className:"mailpoet-settings-label-title",htmlFor:i,children:e}),t&&(0,g.jsx)("p",{className:"description",children:t})]})}function _({children:e}){return(0,g.jsx)("div",{className:"mailpoet-settings-inputs",children:e})}var b=i(7378),v=i(98293),f=i(33e3),k=i(24126),y=i(2726),w=i.n(y);const C=(e,t,i)=>{if("deactivate"!==e){if("reactivate"===e){const e=w()(v.U.I18n.t("re-engagementReactivatedNotice"),/\[link\](.*?)\[\/link\]/g,(e=>(0,g.jsx)("a",{href:"?page=mailpoet-newsletters#/re_engagement",rel:"noopener noreferrer",children:e},"reEngagementEmailsTabLink")));i((0,g.jsx)("p",{children:e}),{scroll:!0})}}else t((0,g.jsx)("p",{children:v.U.I18n.t("re-engagementDisabledNotice")}),{scroll:!0})};function S(){const[e,t]=(0,b.useState)(!1),i=(0,k.d4)("isSaving")(),s=(0,k.d4)("hasErrorFlag")(),a=(0,k.d4)("getSavingError")(),o=(0,k.d4)("hasReEngagementNotice")(),r=(0,k.d4)("getReEngagementAction")(),l=(0,k.y3)("saveSettings"),{notices:c}=(0,b.useContext)(n.F),m=c.error,d=c.success;return(0,b.useEffect)((()=>{e&&!i&&(a?m(a.map((e=>(0,g.jsx)("p",{children:e}))),{scroll:!0}):(d((0,g.jsx)("p",{children:v.U.I18n.t("settingsSaved")}),{scroll:!0}),o&&C(r,m,d)))}),[e,a,i,m,d,o,r]),(0,g.jsx)("div",{className:"mailpoet-settings-save",children:(0,g.jsx)(f.$,{type:"button",automationId:"settings-submit-button",isDisabled:i||s,onClick:()=>{t(!0),l()},children:v.U.I18n.t("saveSettings")})})}var F=i(26749);function N(e){const t=e.segmentsSelector?e.segmentsSelector:"getDefaultSegments",i=(0,k.d4)(t)().map((e=>({value:e.id,label:e.name,count:e.subscribers}))),s=i.filter((t=>e.value.includes(t.value)));return(0,g.jsx)(F.ReactSelect,{isMulti:!0,defaultValue:s,id:e.id,placeholder:e.placeholder,options:i,onChange:t=>{e.setValue((t||[]).map((e=>e.value)))}})}var K=i(30411);function I(e){const t=(0,k.d4)("getPages")();let i=t.find((t=>t.id===parseInt(e.value,10)));return i||(i=t[0]),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row mailpoet-settings-inputs-row-centered",children:[(0,g.jsx)(K.Select,{id:e.id,automationId:e.automationId,value:i.id,onChange:(0,m.k9)(e.setValue),isMinWidth:!0,dimension:"small",children:t.map((e=>(0,g.jsx)("option",{value:e.id,children:`${e.title}`},e.id)))}),(0,g.jsx)("span",{className:"mailpoet-gap"}),(0,g.jsx)("a",{className:"mailpoet-link",target:"_blank",title:(0,m.t)("previewPage"),rel:"noopener noreferrer",href:i.url[e.preview],"data-automation-id":e.linkAutomationId,children:(0,m.t)("preview")})]})}var T=i(19257),E=i(17615);function M({showModal:e}){const t=(0,k.d4)("isMssActive")(),[i,s]=(0,k.iK)("sender","name"),[n,a]=(0,k.iK)("sender","address"),[o,r]=(0,b.useState)(!0),l=(0,m.Y8)(n),[c,d]=(0,b.useState)(!window.mailpoet_verified_sender_domains.includes(l)),[p,h]=(0,b.useState)(window.mailpoet_partially_verified_sender_domains.includes(l)),[u,x]=(0,k.iK)("reply_to","name"),[f,y]=(0,k.iK)("reply_to","address"),w=(0,k.y3)("setErrorFlag"),C=n&&!(0,m.xf)(n),S=f&&!(0,m.xf)(f);return(0,b.useEffect)((()=>{w(C||S||!o&&t)}),[S,C,w,o,t]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("defaultSenderTitle"),description:(0,m.t)("defaultSenderDescription"),htmlFor:"sender-name"}),(0,g.jsxs)(_,{children:[(0,g.jsx)("label",{htmlFor:"sender-name",children:(0,m.t)("from")}),(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{dimension:"small",type:"text",id:"sender-name",placeholder:(0,m.t)("yourName"),"data-automation-id":"from-name-field",value:i,onChange:(0,m.k9)(s)}),(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{dimension:"small",type:"text",placeholder:"from@mydomain.com","data-automation-id":"from-email-field",value:n,onChange:(0,m.k9)((0,m.Xv)((e=>{r(!0),d(!1),h(!1),a(e)}))),onBlur:(0,m.k9)((e=>{if(!t)return;const i=(0,m.Y8)(e);window.mailpoet_verified_sender_domains.includes(i)||((e=>{r(window.mailpoet_authorized_emails.includes(e))})(e),d(!0),h(window.mailpoet_partially_verified_sender_domains.includes(i)))}))}),(0,g.jsx)("br",{}),C&&(0,g.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("invalidEmail")}),(0,g.jsx)("div",{className:"regular-text",children:(0,g.jsx)(E.Y,{emailAddress:n,mssActive:t,showModal:e,isEmailAuthorized:o,showSenderDomainWarning:c,isPartiallyVerifiedDomain:p,senderRestrictions:window.mailpoet_sender_restrictions,onSuccessfulEmailOrDomainAuthorization:e=>{"email"===e.type&&(r(!0),v.U.trackEvent("MSS in plugin authorize email",{"authorized email source":"settings",wasSuccessful:"yes"})),"domain"===e.type&&(d(!1),h(!1),v.U.trackEvent("MSS in plugin verify sender domain",{"verify sender domain source":"settings",wasSuccessful:"yes"}))}})}),(0,g.jsx)("label",{className:"mailpoet-settings-inputs-row",htmlFor:"reply_to-name",children:"Reply-to"}),(0,g.jsx)(T.p,{dimension:"small",type:"text",id:"reply_to-name",placeholder:(0,m.t)("yourName"),"data-automation-id":"reply_to-name-field",value:u,onChange:(0,m.k9)(x)}),(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{dimension:"small",type:"text",placeholder:"reply_to@mydomain.com","data-automation-id":"reply_to-email-field",value:f,onChange:(0,m.k9)((0,m.Xv)(y))}),(0,g.jsx)("br",{}),S&&(0,g.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("invalidEmail")})]})]})}var D=i(45953);function A({title:e,description:t,event:i}){const[s,n]=(0,k.iK)("subscribe",i,"enabled"),[a,o]=(0,k.iK)("subscribe",i,"label"),[r,l]=(0,k.iK)("subscribe",i,"segments");return(0,b.useEffect)((()=>{""===a&&o((0,m.t)("yesAddMe"))}),[a,o]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:e,description:t,htmlFor:`subscribe-${i}-enabled`}),(0,g.jsxs)(_,{children:[(0,g.jsx)(D.S,{id:`subscribe-${i}-enabled`,automationId:`subscribe-${i}-checkbox`,checked:"1"===s,onCheck:e=>n(e?"1":"0")}),"1"===s&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{dimension:"small",type:"text",value:a,onChange:(0,m.k9)(o)}),(0,g.jsx)("label",{className:"mailpoet-settings-inputs-row",htmlFor:`subscribe-${i}-segments`,children:(0,m.t)("usersWillBeSubscribedTo")}),(0,g.jsx)("div",{"data-automation-id":`subscribe-${i}-segments-selection`,children:(0,g.jsx)(N,{id:`subscribe-${i}-segments`,placeholder:(0,m.t)("chooseList"),value:r,setValue:l})})]})]})]})}function P(){const[e,t]=(0,k.iK)("subscription","pages","manage");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("manageSubTitle"),description:(0,g.jsxs)(g.Fragment,{children:[(0,m.t)("manageSubDescription1")," ",w()((0,m.t)("manageSubDescription2"),/\[link\](.*?)\[\/link\]/,(e=>(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/222-customize-your-manage-subscription-page",rel:"noopener noreferrer",target:"_blank",children:e},e)))]}),htmlFor:"subscription-manage-page"}),(0,g.jsxs)(_,{children:[(0,g.jsx)(I,{value:e,preview:"manage",setValue:t,id:"subscription-manage-page",automationId:"subscription-manage-page-selection",linkAutomationId:"preview_manage_subscription_page_link"}),(0,g.jsx)("p",{children:w()((0,m.t)("hideListFromManageSubPage"),/\[link\](.*?)\[\/link\]/,(e=>(0,g.jsx)("a",{className:"mailpoet-link",href:"/wp-admin/admin.php?page=mailpoet-lists#/",rel:"noopener noreferrer",target:"_blank",children:e},e)))})]})]})}function $(){const[e,t]=(0,k.iK)("subscription","pages","unsubscribe"),[i,s]=(0,k.iK)("subscription","pages","confirm_unsubscribe");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("unsubscribeTitle"),description:(0,g.jsxs)(g.Fragment,{children:[w()((0,m.t)("unsubscribeDescription1"),"[mailpoet_page]",(()=>(0,g.jsx)("code",{children:"[mailpoet_page]"},"mp")))," ",w()((0,m.t)("unsubscribeDescription2"),/\[link\](.*?)\[\/link\]/,(e=>(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/221-customize-your-unsubscribe-page",rel:"noopener noreferrer",target:"_blank",children:e},e)))]}),htmlFor:"subscription-pages-unsubscribe"}),(0,g.jsxs)(_,{children:[(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,m.t)("confirmationPageTitle"),":"]}),(0,g.jsx)(I,{value:i,preview:"confirm_unsubscribe",setValue:s,id:"subscription-pages-unsubscribe-confirmation",automationId:"unsubscribe-confirmation-page-selection",linkAutomationId:"unsubscribe_page_preview_link_confirmation"}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,m.t)("successPageTitle"),":"]}),(0,g.jsx)(I,{value:e,preview:"unsubscribe",setValue:t,id:"subscription-pages-unsubscribe",automationId:"unsubscribe-success-page-selection",linkAutomationId:"unsubscribe_page_preview_link"})]})]})}function z(){const[e,t]=(0,k.iK)("stats_notifications","enabled"),[i,s]=(0,k.iK)("stats_notifications","automated"),[n,a]=(0,k.iK)("stats_notifications","address"),o=(0,k.y3)("setErrorFlag"),r=("1"===e||"1"===i)&&""===n.trim(),l=n&&!(0,m.xf)(n);return(0,b.useEffect)((()=>{o(r||l)}),[r,l,o]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("statsNotifsTitle"),description:(0,m.t)("statsNotifsDescription"),htmlFor:"stats-enabled"}),(0,g.jsxs)(_,{children:[(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(D.S,{id:"stats-enabled",checked:"1"===e,onCheck:e=>t(e?"1":"0")}),(0,g.jsx)("label",{htmlFor:"stats-enabled",children:(0,m.t)("newslettersAndPostNotifs")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(D.S,{id:"stats-automated",checked:"1"===i,onCheck:e=>s(e?"1":"0")}),(0,g.jsx)("label",{htmlFor:"stats-automated",children:(0,m.t)("welcomeAndWcEmails")})]}),(0,g.jsx)(T.p,{dimension:"small",type:"email",value:n,onChange:(0,m.k9)((0,m.Xv)(a)),placeholder:"me@mydomain.com"}),r&&(0,g.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("pleaseFillEmail")}),l&&(0,g.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("invalidEmail")})]})]})}var W=i(92201);function L(){const[e,t]=(0,k.iK)("subscriber_email_notification","enabled"),[i,s]=(0,k.iK)("subscriber_email_notification","address"),n=(0,k.y3)("setErrorFlag"),a="1"===e&&""===i.trim(),o=i&&!(0,m.xf)(i);return(0,b.useEffect)((()=>{n(a||o)}),[a,o,n]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("newSubscriberNotifsTitle"),description:(0,m.t)("newSubscriberNotifsDescription"),htmlFor:"subscriber_email_notification-enabled"}),(0,g.jsxs)(_,{children:[(0,g.jsx)(W.s,{checked:"1"===e,value:"1",onCheck:t}),(0,m.t)("yes")," ",(0,g.jsx)(W.s,{checked:""===e,value:"",onCheck:t}),(0,m.t)("no"),(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{dimension:"small",type:"email",value:i,onChange:(0,m.k9)((0,m.Xv)(s)),placeholder:"me@mydomain.com"}),a&&(0,g.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("pleaseFillEmail")}),o&&(0,g.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("invalidEmail")})]})]})}var R=i(12944),O=i(59437),V=i(78191);function B({name:e,title:t,description:i}){const[s,n]=(0,b.useState)([]),[a,o]=(0,b.useState)(""),[r,l]=(0,b.useState)(null),[c,d]=(0,b.useState)(null),[p,h]=(0,b.useState)(""),[u,x]=(0,b.useState)("");let f=`[${e}`;return s.length&&(f+=` segments="${s.join(",")}"`),r&&(f+=` start_date="${v.U.Date.format(r,{format:"Y-m-d"})}"`),c&&(f+=` end_date="${v.U.Date.format(c,{format:"Y-m-d"})}"`),a&&parseInt(a,10)>0&&(f+=` in_the_last_days="${a}"`),p&&p.length>0&&(f+=` subject_contains="${p}"`),u&&parseInt(u,10)>0&&(f+=` limit="${u}"`),f+="]",(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:t,description:i,htmlFor:`${e}-shortcode`}),(0,g.jsxs)(_,{children:[(0,g.jsx)(T.p,{dimension:"small",readOnly:!0,type:"text",value:f,onClick:e=>{e.target.focus(),e.target.select()},id:`${e}-shortcode`}),(0,g.jsx)(V.T,{variant:"secondary",targetId:`${e}-shortcode`,alwaysSelectText:!0}),(0,g.jsx)("br",{}),(0,g.jsx)(N,{value:s,setValue:n,id:`${e}-shortcode-segments`,placeholder:(0,m.t)("leaveEmptyToDisplayAll"),segmentsSelector:"getSegments"}),"mailpoet_archive"===e&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{type:"number",min:"1",max:"365000",dimension:"small",tooltip:(0,O.__)("Include newsletters sent no more than this many days ago. This overrides start and end dates.","mailpoet"),name:"in_the_last_days",placeholder:(0,O.__)("In the last days","mailpoet"),onChange:e=>{const t=e.target.value.trim();if(""===t)return void o("");const i=Number(t);Number.isInteger(i)&&i>0&&(l(null),d(null),o(t))},value:a}),(0,g.jsx)("br",{}),(0,g.jsx)(R.t,{dimension:"small",dateFormat:"MMMM d, yyyy",onChange:e=>{l(e),null!==e&&o("")},selected:r,maxDate:c,placeholderText:(0,O.__)("Start date","mailpoet"),isClearable:!0}),(0,g.jsx)(R.t,{dimension:"small",dateFormat:"MMMM d, yyyy",onChange:e=>{d(e),null!==e&&o("")},selected:c,minDate:r,placeholderText:(0,O.__)("End date","mailpoet"),isClearable:!0}),(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{dimension:"small",type:"text",value:p,onChange:e=>h(e.target.value),placeholder:(0,O.__)("Subject lines containing","mailpoet")}),(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{type:"number",min:"1",max:"1000",dimension:"small",placeholder:(0,O.__)("Maximum number to display","mailpoet"),onChange:e=>{const t=e.target.value.trim();if(""===t)return void x("");const i=Number(t);Number.isInteger(i)&&i>0&&x(t)},value:u})]})]})]})}function U(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("gdprTitle"),description:(0,m.t)("gdprDescription"),htmlFor:"gdpr-compliant"}),(0,g.jsx)(_,{children:(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/246-guide-to-conform-to-gdpr",title:(0,m.t)("readGuide"),target:"_blank",rel:"noopener noreferrer",children:(0,m.t)("readGuide")})})]})}function q(){const[e,t]=(0,k.iK)("reEngagement","page");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("reEngagementTitle"),description:(0,m.t)("reEngagementDescription"),htmlFor:"re-engagement-page"}),(0,g.jsx)(_,{children:(0,g.jsx)(I,{value:e,preview:"re_engagement",setValue:t,id:"re-engagement-page"})})]})}function G(){const{showModal:e}=(0,x.g)();return(0,g.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,g.jsx)(M,{showModal:e}),(0,g.jsx)(A,{event:"on_comment",title:(0,m.t)("subscribeInCommentsTitle"),description:(0,m.t)("subscribeInCommentsDescription")}),(0,g.jsx)(A,{event:"on_register",title:(0,m.t)("subscribeInRegistrationTitle"),description:(0,m.t)("subscribeInRegistrationDescription")}),(0,g.jsx)(P,{}),(0,g.jsx)($,{}),(0,g.jsx)(q,{}),(0,g.jsx)(z,{}),(0,g.jsx)(L,{}),(0,g.jsx)(B,{name:"mailpoet_archive",title:(0,m.t)("archiveShortcodeTitle"),description:(0,m.t)("archiveShortcodeDescription")}),(0,g.jsx)(B,{name:"mailpoet_subscribers_count",title:(0,m.t)("subscribersCountShortcodeTitle"),description:(0,m.t)("subscribersCountShortcodeDescription")}),(0,g.jsx)(U,{}),(0,g.jsx)(S,{})]})}function H(){const[e,t]=(0,k.iK)("cron_trigger","method"),i=(0,k.d4)("getPaths")();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,O.__)("Newsletter task scheduler (cron)","mailpoet"),description:(0,g.jsxs)(g.Fragment,{children:[(0,O.__)("Select what will activate your newsletter queue.","mailpoet")," ",(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/129-what-is-the-newsletter-task-scheduler",rel:"noopener noreferrer",target:"_blank",children:(0,O.__)("Read more.","mailpoet")})]}),htmlFor:"cron_trigger-method"}),(0,g.jsxs)(_,{children:[(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"cron_trigger-method-action-scheduler",value:"Action Scheduler",checked:"Action Scheduler"===e,onCheck:t,automationId:"action_scheduler_cron_radio"}),(0,g.jsx)("label",{htmlFor:"cron_trigger-method-action-scheduler",children:(0,O.__)("Action Scheduler (recommended)","mailpoet")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"cron_trigger-method-wordpress",value:"WordPress",checked:"WordPress"===e,onCheck:t,automationId:"wordress_cron_radio"}),(0,g.jsx)("label",{htmlFor:"cron_trigger-method-wordpress",children:(0,O.__)("Visitors to your website","mailpoet")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"cron_trigger-method-cron",value:"Linux Cron",checked:"Linux Cron"===e,onCheck:t,automationId:"linux_cron_radio"}),(0,g.jsx)("label",{htmlFor:"cron_trigger-method-cron",children:(0,O.__)("Server side cron (Linux cron)","mailpoet")})]}),"Linux Cron"===e&&(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,O.__)("To use this option please add this command to your crontab:","mailpoet")}),(0,g.jsx)(T.p,{dimension:"small",type:"text",readOnly:!0,value:`php ${i.plugin}/mailpoet-cron.php ${i.root}`}),(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,O.__)("With the frequency of running it every minute:","mailpoet")}),(0,g.jsx)(T.p,{dimension:"small",type:"text",readOnly:!0,value:"*/1 * * * *"})]})]})]})}function Y(){const e=(0,k.d4)("hasMembersPlugin")();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("rolesTitle"),description:(0,m.t)("rolesDescription"),htmlFor:""}),(0,g.jsx)(_,{children:(0,g.jsx)("p",{children:e?(0,g.jsx)("a",{className:"mailpoet-link",href:"?page=roles",children:(0,m.t)("manageUsingMembers")}):w()((0,m.t)("installMembers"),/\[link\](.*?)\[\/link\]/,(e=>(0,g.jsx)("a",{className:"mailpoet-link",href:"https://wordpress.org/plugins/members/",rel:"noopener noreferrer",target:"_blank",children:e},e)))})})]})}function X(){const[e,t]=(0,k.iK)("tracking","level");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("engagementTrackingTitle"),description:(0,m.t)("engagementTrackingDescription"),htmlFor:"engagement_tracking"}),(0,g.jsxs)(_,{children:[(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"tracking-basic",value:"basic",checked:"basic"===e,onCheck:t,automationId:"tracking-basic-radio"}),(0,g.jsx)("label",{htmlFor:"tracking-basic",children:(0,m.t)("engagementTrackingBasic")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"tracking-partial",value:"partial",checked:"partial"===e,onCheck:t,automationId:"tracking-partial-radio"}),(0,g.jsx)("label",{htmlFor:"tracking-partial",children:(0,m.t)("engagementTrackingPartial")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"tracking-full",value:"full",checked:"full"===e,onCheck:t,automationId:"tracking-full-radio"}),(0,g.jsx)("label",{htmlFor:"tracking-full",children:(0,m.t)("engagementTrackingFull")})]})]})]})}function Z(){const[e,t]=(0,k.iK)("tracking","opens");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,O.__)("Human and machine opens","mailpoet"),description:(0,O.__)("Choose how human and machine opens should be displayed.","mailpoet"),htmlFor:"opens_mode"}),(0,g.jsxs)(_,{children:[(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"opens-merged",value:"merged",checked:"merged"===e,onCheck:t,automationId:"opens-merged-radio"}),(0,g.jsx)("label",{htmlFor:"opens-merged",children:(0,O.__)("Merged – both are counted as total opens. Similar to other email marketing tools.","mailpoet")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"opens-separated",value:"separated",checked:"separated"===e,onCheck:t,automationId:"opens-separated-radio"}),(0,g.jsx)("label",{htmlFor:"opens-separated",children:(0,O.__)("Separated – only human opens are counted as total opens. More accurate, but the numbers tend to be lower.","mailpoet")})]})]})]})}function J(){const[e]=(0,k.iK)("smtp_provider"),t=(0,k.d4)("isMssActive")(),[i,s]=(0,k.iK)("send_transactional_emails");let n="";return t?n="MailPoet Sending Service":"manual"===e?n="SMTP":"SendGrid"===e?n="SendGrid":"AmazonSES"===e?n="Amazon SES":"server"===e&&(n=(0,m.t)("hostOption")),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("transactionalTitle"),description:(0,g.jsxs)(g.Fragment,{children:[(0,m.t)("transactionalDescription")," ",(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/292-choose-how-to-send-your-wordpress-websites-emails",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("transactionalLink")})]}),htmlFor:""}),(0,g.jsxs)(_,{children:[(0,g.jsx)(W.s,{id:"transactional-enabled",value:"1",checked:"1"===i,onCheck:s}),(0,g.jsxs)("label",{htmlFor:"transactional-enabled",children:[(0,m.t)("transactionalCurrentMethod").replace("%1$s",n),(0,g.jsx)("br",{}),(0,g.jsx)("span",{className:"mailpoet-note",children:w()((0,m.t)("transactionalMssNote"),/\[link\](.*?)\[\/link\]/,(e=>(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/292-choose-how-to-send-your-wordpress-websites-emails#attachments",rel:"noopener noreferrer",target:"_blank",children:e},e)))})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"transactional-disabled",value:"",checked:""===i,onCheck:s}),(0,g.jsx)("label",{htmlFor:"transactional-disabled",children:(0,m.t)("transactionalWP")})]})]})]})}function Q(){const[e,t]=(0,k.iK)("deactivate_subscriber_after_inactive_days"),[i]=(0,k.iK)("tracking","level"),s="basic"!==i;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("inactiveSubsTitle"),description:(0,g.jsxs)(g.Fragment,{children:[(0,m.t)("inactiveSubsDescription")," ",(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/264-inactive-subscribers",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("readMore")})]}),htmlFor:""}),(0,g.jsxs)(_,{children:[!s&&(0,g.jsx)("p",{"data-automation-id":"inactive-subscribers-disabled",children:(0,m.t)("disabledBecauseTrackingIs")}),s&&(0,g.jsxs)("div",{"data-automation-id":"inactive-subscribers-enabled",children:[(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"inactive-subscribers-disabled",automationId:"inactive-subscribers-option-never",value:"",checked:""===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"inactive-subscribers-disabled",children:(0,m.t)("never")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"inactive-subscribers-3-months",value:"90",checked:"90"===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"inactive-subscribers-3-months",children:(0,m.t)("after3months")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"inactive-subscribers-6-months",value:"180",checked:"180"===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"inactive-subscribers-6-months",children:(0,m.t)("after6months")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"inactive-subscribers-12-months",value:"365",checked:"365"===e,onCheck:t,automationId:"inactive-subscribers-default"}),(0,g.jsx)("label",{htmlFor:"inactive-subscribers-12-months",children:(0,m.t)("after12months")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"inactive-subscribers-18-months",value:"540",checked:"540"===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"inactive-subscribers-18-months",children:(0,m.t)("after18months")})]})]})]})]})}function ee(){const[e,t]=(0,k.iK)("analytics","enabled");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("shareDataTitle"),description:(0,g.jsxs)(g.Fragment,{children:[(0,m.t)("shareDataDescription")," ",(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/130-sharing-your-data-with-us",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("readMore")})]}),htmlFor:""}),(0,g.jsxs)(_,{children:[(0,g.jsx)(W.s,{id:"share-data-enabled",value:"1",checked:"1"===e,onCheck:t,automationId:"analytics-yes"}),(0,g.jsx)("label",{htmlFor:"share-data-enabled",children:(0,m.t)("yes")}),(0,g.jsx)("span",{className:"mailpoet-gap"}),(0,g.jsx)(W.s,{id:"share-data-disabled",value:"",checked:""===e,onCheck:t,automationId:"analytics-no"}),(0,g.jsx)("label",{htmlFor:"share-data-disabled",children:(0,m.t)("no")})]})]})}function te(){const[e,t]=(0,k.iK)("3rd_party_libs","enabled");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("libs3rdPartyTitle"),description:(0,g.jsxs)(g.Fragment,{children:[w()((0,m.t)("libs3rdPartyDescription"),/\[link\](.*?)\[\/link\]/,(e=>(0,g.jsx)("a",{href:"https://www.mailpoet.com/support/",rel:"noopener noreferrer",target:"_blank",children:e},e)))," ",(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/338-what-3rd-party-libraries-we-use",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("readMore")})]}),htmlFor:""}),(0,g.jsxs)(_,{children:[(0,g.jsx)(W.s,{id:"libs-3rd-party-enabled",value:"1",checked:"1"===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"libs-3rd-party-enabled",children:(0,m.t)("yes")}),(0,g.jsx)("span",{className:"mailpoet-gap"}),(0,g.jsx)(W.s,{id:"libs-3rd-party-disabled",value:"",checked:""===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"libs-3rd-party-disabled",children:(0,m.t)("no")})]})]})}function ie(){const[e,t]=(0,k.iK)("captcha","type"),[i,s]=(0,k.iK)("captcha","recaptcha_site_token"),[n,a]=(0,k.iK)("captcha","recaptcha_secret_token"),[o,r]=(0,k.iK)("captcha","recaptcha_invisible_site_token"),[l,c]=(0,k.iK)("captcha","recaptcha_invisible_secret_token"),d=(0,k.d4)("isBuiltInCaptchaSupported")(),p=(0,k.y3)("setErrorFlag"),h="recaptcha"===e&&""===i.trim(),u="recaptcha"===e&&""===n.trim(),x="recaptcha-invisible"===e&&""===o.trim(),v="recaptcha-invisible"===e&&""===l.trim();return(0,b.useEffect)((()=>{p(h||u||v||x)}),[u,h,v,x,p]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("captchaTitle"),description:(0,g.jsxs)(g.Fragment,{children:[(0,m.t)("captchaDescription")," ",(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/182-add-a-captcha-to-subscription-forms",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("readMore")}),("recaptcha"===e||"recaptcha-invisible"===e)&&(0,g.jsxs)("p",{children:[(0,g.jsxs)("span",{children:[(0,m.t)("reCaptchaDescription")," "]}),(0,g.jsx)("a",{className:"mailpoet-link",href:"https://www.google.com/recaptcha/admin",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("signupForCaptchaKey")})]})]}),htmlFor:""}),(0,g.jsxs)(_,{children:[(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"built-in-captcha",disabled:!d,value:"built-in",checked:"built-in"===e,onCheck:t}),(0,g.jsxs)("label",{htmlFor:"built-in-captcha",children:[(0,m.t)("builtInCaptcha")," ",!d&&(0,m.t)("disbaledBecauseExtensionMissing")]})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"google-captcha",value:"recaptcha",checked:"recaptcha"===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"google-captcha",children:(0,m.t)("googleReCaptchaCheckbox")})]}),"recaptcha"===e&&(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(T.p,{dimension:"small",type:"text",value:i,onChange:(0,m.k9)(s),placeholder:(0,m.t)("yourReCaptchaKey")}),h&&(0,g.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("fillReCaptchaKeys")}),(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{dimension:"small",type:"text",value:n,onChange:(0,m.k9)(a),placeholder:(0,m.t)("yourReCaptchaSecret")}),u&&(0,g.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("fillReCaptchaKeys")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"google-captcha-invisible",value:"recaptcha-invisible",checked:"recaptcha-invisible"===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"google-captcha-invisible",children:(0,m.t)("googleReCaptchaInvisible")})]}),"recaptcha-invisible"===e&&(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(T.p,{dimension:"small",type:"text",value:o,onChange:(0,m.k9)(r),placeholder:(0,m.t)("yourReCaptchaKey")}),x&&(0,g.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("fillReCaptchaKeys")}),(0,g.jsx)("br",{}),(0,g.jsx)(T.p,{dimension:"small",type:"text",value:l,onChange:(0,m.k9)(c),placeholder:(0,m.t)("yourReCaptchaSecret")}),v&&(0,g.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,m.t)("fillReCaptchaKeys")})]}),(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,g.jsx)(W.s,{id:"no-captcha",value:"",checked:""===e,onCheck:t}),(0,g.jsx)("label",{htmlFor:"no-captcha",children:(0,m.t)("disable")})]})]})]})}function se(){const e=(0,k.y3)("reinstall"),{notices:t}=(0,b.useContext)(n.F);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("reinstallTitle"),description:(0,m.t)("reinstallDescription"),htmlFor:""}),(0,g.jsx)(_,{children:(0,g.jsx)(f.$,{type:"button",onClick:async()=>{if(window.confirm((0,m.t)("reinstallConfirmation"))){const i=await e();"SAVE_FAILED"===i.type?t.error(i.error.map((e=>(0,g.jsx)("p",{children:e}))),{scroll:!0}):window.location.href=`admin.php?page=${v.U.mainPageSlug}`}},automationId:"reinstall-button",variant:"destructive",children:(0,m.t)("reinstallNow")})})]})}function ne(){const e=(0,k.y3)("recalculateSubscribersScore"),{notices:t}=(0,b.useContext)(n.F);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("recalculateSubscribersScoreTitle"),description:(0,m.t)("recalculateSubscribersScoreDescription"),htmlFor:""}),(0,g.jsx)(_,{children:(0,g.jsx)(f.$,{type:"button",onClick:async()=>{await e(),t.info((0,g.jsx)("p",{children:(0,m.t)("recalculateSubscribersScoreNotice")}),{scroll:!0})},variant:"secondary",dimension:"small",children:(0,m.t)("recalculateSubscribersScoreNow")})})]})}function ae(){const[e,t]=(0,k.iK)("logging");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("loggingTitle"),description:(0,g.jsxs)(g.Fragment,{children:[(0,m.t)("loggingDescription")," ",(0,g.jsx)("a",{href:"?page=mailpoet-logs",className:"mailpoet-link",children:(0,m.t)("loggingDescriptionLink")})]}),htmlFor:"logging-level"}),(0,g.jsx)(_,{children:(0,g.jsxs)(K.Select,{id:"logging-level",value:e,onChange:(0,m.k9)(t),automationId:"logging-select-box",isMinWidth:!0,dimension:"small",children:[(0,g.jsx)("option",{value:"everything","data-automation-id":"log-everything",children:(0,m.t)("everythingLogOption")}),(0,g.jsx)("option",{value:"errors","data-automation-id":"log-errors",children:(0,m.t)("errorsLogOption")}),(0,g.jsx)("option",{value:"nothing","data-automation-id":"log-nothing",children:(0,m.t)("nothingLogOption")})]})})]})}function oe(){const[e,t]=(0,k.iK)("bounce","address");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("bounceEmail"),description:(0,g.jsxs)(g.Fragment,{children:[(0,m.t)("yourBouncedEmails")," ",(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/180-how-bounce-management-works-in-mailpoet-3",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("readMore")})]}),htmlFor:"bounce-address"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"text",id:"bounce-address",placeholder:"bounce@mydomain.com","data-automation-id":"bounce-address-field",value:e,onChange:(0,m.k9)((0,m.Xv)(t))})})]})}function re(){return(0,g.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,g.jsx)(oe,{}),(0,g.jsx)(H,{}),(0,g.jsx)(Y,{}),(0,g.jsx)(X,{}),(0,g.jsx)(Z,{}),(0,g.jsx)(J,{}),(0,g.jsx)(ne,{}),(0,g.jsx)(Q,{}),(0,g.jsx)(ee,{}),(0,g.jsx)(te,{}),(0,g.jsx)(ie,{}),(0,g.jsx)(se,{}),(0,g.jsx)(ae,{}),(0,g.jsx)(S,{})]})}var le=i(42770),ce=i(28481),me=i(75458),de=i(91337);const pe=w()((0,m.t)("premiumTabDescription"),/\[link\](.*?)\[\/link\]/g,(e=>(0,g.jsx)("a",{href:"https://account.mailpoet.com/account?utm_source=plugin&utm_medium=settings&utm_campaign=activate-existing-plan&ref=settings-key-activation",target:"_blank",rel:"noopener noreferrer",children:e},"premium-tab-description"))),he=w()((0,m.t)("premiumTabGetKey"),/\[link\](.*?)\[\/link\]/g,(e=>(0,g.jsx)("a",{href:"https://account.mailpoet.com/account?utm_source=plugin&utm_medium=settings&utm_campaign=activate-existing-plan&ref=settings-key-activation",target:"_blank",rel:"noopener noreferrer",children:e},"premium-tab-get-key")));function ue({subscribersCount:e}){const t=(0,k.d4)("getKeyActivationState")(),i=(0,k.y3)("updateKeyActivationState"),s=(0,k.y3)("sendCongratulatoryMssEmail"),[n,a]=(0,k.iK)("sender","address"),[o,r]=(0,k.iK)("authorized_emails_addresses_check"),l=(0,k.y3)("setSaveDone"),c=(t.fromAddressModalCanBeShown||JSON.parse(sessionStorage.getItem("mailpoet_from_address_modal_can_be_shown")))&&t.mssStatus===le.W0.VALID_MSS_ACTIVE&&(!n||o);return(0,g.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,g.jsx)(j,{htmlFor:"mailpoet_premium_key",title:(0,m.t)("premiumTabActivationKeyLabel"),description:(0,g.jsxs)(g.Fragment,{children:[pe,(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),he,(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),w()((0,m.t)("premiumTabGetPlan"),/\[link\](.*?)\[\/link\]/g,(t=>(0,g.jsx)("a",{href:`https://account.mailpoet.com/?s=${e}&utm_source=plugin&utm_medium=settings&utm_campaign=create-new-plan&ref=settings-key-activation`,target:"_blank",rel:"noopener noreferrer",children:t},"premium-tab-get-plan")))]})}),(0,g.jsxs)(_,{children:[(0,g.jsx)(de.M,{}),(0,g.jsx)(me.y,{label:(0,m.t)("premiumTabVerifyButton")})]}),c&&(0,g.jsx)(ce.U,{onRequestClose:()=>{i({fromAddressModalCanBeShown:!1}),s(),sessionStorage.removeItem("mailpoet_from_address_modal_can_be_shown")},setAuthorizedAddress:async e=>{sessionStorage.removeItem("mailpoet_from_address_modal_can_be_shown"),await a(e),await r(null),l()}})]})}var xe=i(65069);function ge(){const e=(0,x.Zp)(),t=(0,k.d4)("isMssActive")(),[i]=(0,k.iK)("mta","mailpoet_api_key"),{mssStatus:s,premiumStatus:n}=(0,k.d4)("getKeyActivationState")(),a=null!==s&&s!==le.W0.INVALID,o=null!==n&&n!==le.Ks.INVALID,r=window.mailpoet_free_plan_url,l=(0,k.y3)("setSetting"),c=(0,k.y3)("saveSettings");return(0,g.jsxs)("ul",{className:"mailpoet-sending-methods",children:[(0,g.jsx)("li",{children:(0,g.jsxs)("label",{className:"mailpoet-sending-method mailpoet-form-checkbox",children:[(0,g.jsx)("input",{type:"radio",checked:t,onChange:async s=>{s.preventDefault(),t||a||e("/premium"),!t&&a&&await(async()=>(await l(["mta_group"],"mailpoet"),await l(["mta","method"],"MailPoet"),await l(["mta","mailpoet_api_key"],i),await l(["signup_confirmation","enabled"],"1"),c()))()}}),(0,g.jsx)("span",{className:"mailpoet-form-radio-control"}),(0,g.jsx)("h4",{className:"mailpoet-h4",children:(0,m.t)("mssTitle")}),(0,g.jsx)("p",{children:t?(0,m.t)("youreSendingWithMss"):(0,m.t)("solveSendingProblems")}),(0,g.jsxs)("ul",{className:"mailpoet-sending-method-benefits mailpoet_success",children:[(0,g.jsx)("li",{className:"mailpoet_success_item",children:(0,m.t)("mssBenefit1")}),(0,g.jsx)("li",{className:"mailpoet_success_item",children:(0,m.t)("mssBenefit2")}),(0,g.jsx)("li",{className:"mailpoet_success_item",children:(0,m.t)("mssBenefit3")}),(0,g.jsx)("li",{className:"mailpoet_success_item",children:(0,m.t)("mssBenefit4")}),(0,g.jsx)("li",{className:"mailpoet_success_item",children:(0,m.t)("mssBenefit5")})]}),!a&&!o&&(0,g.jsxs)("div",{className:"mailpoet-sending-method-actions",children:[(0,g.jsx)("a",{className:"mailpoet-button button-primary",href:r,rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("freeUpto")}),(0,g.jsxs)("span",{children:[" ",(0,m.t)("or")," "]}),w()((0,m.t)("enterYourKey"),/\[link\](.*?)\[\/link\]/g,((e,t)=>(0,g.jsx)(xe.Link,{to:"/premium",className:"mailpoet-link",children:e},t)))]}),!a&&o&&(0,g.jsxs)("div",{className:"mailpoet-sending-method-actions",children:[(0,g.jsx)("i",{children:(0,m.t)("invalidKeyForMss")})," ",(0,g.jsx)("a",{className:"mailpoet-button button-primary",href:"https://account.mailpoet.com/",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("getPlan")})]})]})}),(0,g.jsx)("li",{children:(0,g.jsxs)("label",{className:"mailpoet-sending-method mailpoet-form-checkbox",children:[(0,g.jsx)("input",{type:"radio",checked:!t,onChange:t=>{t.preventDefault(),e("/mta/other")}}),(0,g.jsx)("span",{className:"mailpoet-form-radio-control"}),(0,g.jsx)("h4",{className:"mailpoet-h4",children:(0,m.t)("otherTitle")}),(0,g.jsxs)("p",{children:[(0,m.t)("sendViaHost")," ",(0,g.jsx)("strong",{children:(0,m.t)("notRecommended")})," ",(0,m.t)("orViaThirdParty")]}),(0,g.jsx)("div",{className:"mailpoet-sending-method-actions",children:(0,g.jsx)(xe.Link,{to:"/mta/other",className:"mailpoet-link",children:(0,m.t)("configure")})})]})})]})}function je(){const[e,t]=(0,k.iK)("smtp_provider"),[,i]=(0,k.iK)("mta_group"),[,s]=(0,k.iK)("mta","method");return(0,b.useEffect)((()=>{switch(e){case"server":i("website"),s("PHPMail");break;case"manual":i("smtp"),s("SMTP");break;case"AmazonSES":i("smtp"),s("AmazonSES");break;case"SendGrid":i("smtp"),s("SendGrid");break;default:s("PHPMail")}}),[e,i,s]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("method"),htmlFor:"mailpoet_smtp_method"}),(0,g.jsx)(_,{children:(0,g.jsxs)(K.Select,{id:"mailpoet_smtp_method",value:e,onChange:(0,m.k9)(t),isMinWidth:!0,dimension:"small",children:[(0,g.jsx)("option",{value:"server",children:(0,m.t)("hostOption")}),(0,g.jsx)("option",{value:"manual",children:(0,m.t)("smtpOption")}),(0,g.jsxs)("optgroup",{label:(0,m.t)("selectProvider"),children:[(0,g.jsx)("option",{value:"AmazonSES",children:"Amazon SES"}),(0,g.jsx)("option",{value:"SendGrid",children:"SendGrid"})]})]})})]})}function _e(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("spfTitle"),description:(0,m.t)("spfDescription"),htmlFor:""}),(0,g.jsx)(_,{children:(0,m.t)("spfSetup")})]})}var be=i(29596),ve=i(76979);function fe(){const[e,t]=(0,b.useState)(window.mailpoet_current_user_email),[i]=(0,k.iK)("mta"),{state:s,error:n}=(0,k.d4)("getTestEmailState")(),a=(0,k.y3)("sendTestEmail");return(0,g.jsxs)(g.Fragment,{children:[s===le.cP.SENDING&&(0,g.jsx)(c.R,{}),s===le.cP.SUCCESS&&(0,g.jsx)(ve.$,{type:"success",scroll:!0,children:(0,g.jsx)("p",{children:(0,m.t)("emailSent")})}),s===le.cP.FAILURE&&(0,g.jsx)(ve.$,{type:"error",scroll:!0,children:(0,g.jsx)("p",{children:n.map((e=>(0,g.jsx)("p",{children:e},e)))})}),(0,g.jsx)(j,{title:(0,m.t)("testSending"),htmlFor:"mailpoet_mta_test_email"}),(0,g.jsxs)(_,{children:[(0,g.jsx)(T.p,{dimension:"small",type:"text",id:"mailpoet_mta_test_email",value:e,onChange:(0,m.k9)(t)}),(0,g.jsx)(f.$,{type:"button",dimension:"small",variant:"secondary",onClick:()=>a(e,i),children:(0,m.t)("sendTestEmail")}),(0,g.jsx)(be.Tooltip,{tooltipId:"tooltip-settings-test",className:"mailpoet_tooltip_icon",tooltip:(0,g.jsx)("span",{style:{pointerEvents:"all"},children:w()((0,m.t)("testEmailTooltip"),/\[link\](.*?)\[\/link\]/g,((e,t)=>(0,g.jsx)("a",{className:"mailpoet-link",target:"_blank",rel:"noopener noreferrer",href:"https://kb.mailpoet.com/article/146-my-newsletters-are-not-being-received",children:e},t)))})})]})]})}function ke(){const e=(0,k.y3)("saveSettings"),t=(0,k.y3)("loadSettings"),i=(0,x.Zp)();return(0,g.jsxs)("div",{className:"mailpoet-settings-save",children:[(0,g.jsx)(f.$,{type:"button",onClick:async()=>{await e(),i("/mta")},children:(0,m.t)("activate")}),(0,g.jsx)(f.$,{onClick:async()=>{v.U.Modal.loading(!0),await t(),i("/mta"),v.U.Modal.loading(!1)},variant:"tertiary",children:(0,m.t)("orCancel")})]})}const ye=1440,we=86400;function Ce(e){const t=Math.floor(parseInt(e,10));return t>60?(0,m.t)("everyHours").replace("%1$d",""+t/60):60===t?(0,m.t)("everyHour"):t>1?(0,m.t)("everyMinutes").replace("%1$d",`${t}`):(0,m.t)("everyMinute")}function Se({recommendedEmails:e,recommendedInterval:t}){const[i,s]=(0,k.iK)("mailpoet_sending_frequency"),[n,a]=(0,k.iK)("mta","frequency","emails"),[o,r]=(0,k.iK)("mta","frequency","interval");(0,b.useEffect)((()=>{"auto"===i&&(a(`${e}`),r(`${t}`))}),[i,e,t,a,r]);const l=Math.floor(ye*parseInt(n,10)/parseInt(o,10)),c=Math.floor(l/we*10)/10;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("sendingFrequency"),htmlFor:"mailpoet_sending_frequency"}),(0,g.jsxs)(_,{children:[(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,g.jsxs)(K.Select,{id:"mailpoet_sending_frequency",value:i,onChange:(0,m.k9)(s),dimension:"small",children:[(0,g.jsx)("option",{value:"auto",children:(0,m.t)("recommendedTitle")}),(0,g.jsx)("option",{value:"manual",children:(0,m.t)("ownFrequency")})]})}),"manual"===i&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row mailpoet-settings-inputs-row-centered",children:[(0,g.jsx)(T.p,{dimension:"small",id:"other_frequency_emails",type:"number",min:"1",max:"1000",value:n,onChange:(0,m.k9)(a)}),(0,g.jsx)("span",{className:"mailpoet-gap"}),(0,g.jsx)("span",{children:(0,m.t)("emails")})]}),(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,g.jsxs)(K.Select,{id:"other_frequency_interval",value:o,onChange:(0,m.k9)(r),dimension:"small",children:[(0,g.jsx)("option",{value:"1",children:"every minute"}),(0,g.jsx)("option",{value:"2",children:"every 2 minutes"}),(0,g.jsx)("option",{value:"5",children:"every 5 minutes (recommended)"}),(0,g.jsx)("option",{value:"10",children:"every 10 minutes"}),(0,g.jsx)("option",{value:"15",children:"every 15 minutes"}),(0,g.jsx)("option",{value:"30",children:"every 30 minutes"})]})})]}),"auto"===i&&(0,g.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,m.t)("xEmails").replace("%1$s",n)," ",Ce(o),". "]}),(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:w()((0,m.t)("thatsXEmailsPerDay").replace("%1$s",l.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,g.jsx)("strong",{children:e},t)))}),c>1&&(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,g.jsx)("span",{className:"mailpoet_emails_per_second_warning",children:w()((0,m.t)("thatsXEmailsPerSecond").replace("%1$s",c.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,g.jsx)("strong",{children:e},t)))})}),"manual"===i&&(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:w()((0,m.t)("frequencyWarning").replace("%1$s",c.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,g.jsx)("strong",{children:e},t)))})]})]})}function Fe(){const[e,t]=(0,k.iK)("web_host"),i=(0,k.d4)("getWebHosts")(),s=i[e];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("yourHost"),htmlFor:"mailpoet_web_host"}),(0,g.jsx)(_,{children:(0,g.jsx)(K.Select,{id:"mailpoet_web_host",value:e,onChange:(0,m.k9)(t),isMinWidth:!0,dimension:"small",children:Object.entries(i).map((([e,t])=>(0,g.jsx)("option",{value:e,children:t.name},e)))})}),(0,g.jsx)(Se,{recommendedEmails:s.emails,recommendedInterval:s.interval})]})}function Ne(){const[e,t]=(0,k.iK)("mta","host"),[i,s]=(0,k.iK)("mta","port"),[n,a]=(0,k.iK)("mta","login"),[o,r]=(0,k.iK)("mta","password"),[l,c]=(0,k.iK)("mta","encryption"),[d,p]=(0,k.iK)("mta","authentication");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Se,{recommendedEmails:100,recommendedInterval:5}),(0,g.jsx)(j,{title:(0,m.t)("smtpHost"),description:(0,m.t)("smtpHostExample"),htmlFor:"mailpoet_smtp_host"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"text",id:"mailpoet_smtp_host",value:e,onChange:(0,m.k9)(t)})}),(0,g.jsx)(j,{title:(0,m.t)("smtpPort"),htmlFor:"mailpoet_smtp_port"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"text",id:"mailpoet_smtp_port",value:i,onChange:(0,m.k9)(s)})}),(0,g.jsx)(j,{title:(0,m.t)("login"),htmlFor:"mailpoet_smtp_login"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"text",id:"mailpoet_smtp_login",value:n,onChange:(0,m.k9)(a)})}),(0,g.jsx)(j,{title:(0,m.t)("password"),htmlFor:"mailpoet_smtp_password"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"password",id:"mailpoet_smtp_password",value:o,onChange:(0,m.k9)(r)})}),(0,g.jsx)(j,{title:(0,m.t)("secureConnectioon"),htmlFor:"mailpoet_smtp_encryption"}),(0,g.jsx)(_,{children:(0,g.jsxs)(K.Select,{id:"mailpoet_smtp_encryption",value:l,onChange:(0,m.k9)(c),isMinWidth:!0,dimension:"small",children:[(0,g.jsx)("option",{value:"",children:(0,m.t)("no")}),(0,g.jsx)("option",{value:"ssl",children:"SSL"}),(0,g.jsx)("option",{value:"tls",children:"TLS"})]})}),(0,g.jsx)(j,{title:(0,m.t)("authentication"),description:(0,m.t)("authenticationDescription"),htmlFor:"mailpoet_smtp_authentication"}),(0,g.jsxs)(_,{children:[(0,g.jsx)(W.s,{value:"1",checked:"1"===d,onCheck:p}),(0,m.t)("yes")," ",(0,g.jsx)(W.s,{value:"-1",checked:"-1"===d,onCheck:p}),(0,m.t)("no")]})]})}function Ke(){const[e,t]=(0,k.iK)("mta","region"),[i,s]=(0,k.iK)("mta","access_key"),[n,a]=(0,k.iK)("mta","secret_key"),o=(0,k.d4)("getAmazonSesOptions")();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Se,{recommendedEmails:o.emails,recommendedInterval:o.interval}),(0,g.jsx)(j,{title:(0,m.t)("region"),htmlFor:"mailpoet_amazon_ses_region"}),(0,g.jsx)(_,{children:(0,g.jsx)(K.Select,{id:"mailpoet_amazon_ses_region",value:e,onChange:(0,m.k9)(t),isMinWidth:!0,dimension:"small",children:Object.entries(o.regions).map((([e,t])=>(0,g.jsx)("option",{value:t,children:e},t)))})}),(0,g.jsx)(j,{title:(0,m.t)("accessKey"),htmlFor:"mailpoet_amazon_ses_access_key"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"text",value:i,className:"regular-text",onChange:(0,m.k9)(s),id:"mailpoet_amazon_ses_access_key"})}),(0,g.jsx)(j,{title:(0,m.t)("secretKey"),htmlFor:"mailpoet_amazon_ses_secret_key"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"text",value:n,className:"regular-text",onChange:(0,m.k9)(a),id:"mailpoet_amazon_ses_secret_key"})})]})}function Ie(){const[e,t]=(0,k.iK)("mta","api_key"),i=(0,k.d4)("getSendGridOptions")();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Se,{recommendedEmails:i.emails,recommendedInterval:i.interval}),(0,g.jsx)(j,{title:(0,m.t)("apiKey"),htmlFor:"mailpoet_sendgrid_api_key"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"text",value:e,onChange:(0,m.k9)(t),id:"mailpoet_sendgrid_api_key"})})]})}function Te(){const[e]=(0,k.iK)("mta","method");return(0,g.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,g.jsx)(je,{}),"PHPMail"===e&&(0,g.jsx)(Fe,{}),"SMTP"===e&&(0,g.jsx)(Ne,{}),"AmazonSES"===e&&(0,g.jsx)(Ke,{}),"SendGrid"===e&&(0,g.jsx)(Ie,{}),(0,g.jsx)(_e,{}),(0,g.jsx)(fe,{}),(0,g.jsx)(ke,{})]})}function Ee(){const{subPage:e}=(0,x.g)();return"other"===e?(0,g.jsx)(Te,{}):(0,g.jsx)(ge,{})}function Me(){const e=(0,k.d4)("isMssActive")(),[t,i]=(0,k.iK)("signup_confirmation","enabled"),s=e=>{"1"===e&&window.confirm((0,m.t)("subscribersNeedToActivateSub"))&&i("1"),""===e&&window.confirm((0,m.t)("newSubscribersAutoConfirmed"))&&i("")};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("enableSignupConfTitle"),description:(0,g.jsxs)(g.Fragment,{children:[(0,m.t)("enableSignupConfDescription")," ",(0,g.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/128-why-you-should-use-signup-confirmation-double-opt-in",rel:"noopener noreferrer",target:"_blank",children:(0,m.t)("readAboutDoubleOptIn")})]}),htmlFor:"signup_confirmation-enabled"}),(0,g.jsx)(_,{children:e?(0,g.jsx)("p",{children:(0,m.t)("signupConfirmationIsMandatory")}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(W.s,{id:"signup_confirmation-enabled",checked:"1"===t,value:"1",onCheck:s,automationId:"enable_signup_confirmation"}),(0,m.t)("yes")," ",(0,g.jsx)(W.s,{checked:""===t,value:"",onCheck:s,automationId:"disable_signup_confirmation"}),(0,m.t)("no")]})})]})}function De(){const[e]=(0,k.iK)("signup_confirmation","enabled"),[t,i]=(0,k.iK)("signup_confirmation","subject"),[s]=(0,k.iK)("signup_confirmation","use_mailpoet_editor");return e?"1"===s?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("emailSubject"),htmlFor:"signup_confirmation-subject"}),(0,g.jsx)(_,{children:(0,g.jsx)(T.p,{dimension:"small",type:"text",size:50,id:"signup_confirmation-subject","data-automation-id":"signup_confirmation_email_subject",value:t,onChange:(0,m.k9)(i)})})]}):null}var Ae=i(63483);function Pe(){const[e]=(0,k.iK)("signup_confirmation","enabled"),[t,i]=(0,k.iK)("signup_confirmation","body"),[s]=(0,k.iK)("signup_confirmation","use_mailpoet_editor");if(!e)return null;if("1"===s)return null;const n=(0,m.t)("emailContentDescription").replace("[current_site_title]",window.mailpoet_current_site_title||"").split("<br />").filter((e=>e));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("emailContent"),description:n.map((e=>(0,g.jsxs)("span",{children:[e,(0,g.jsx)("br",{}),(0,g.jsx)("br",{})]},e))),htmlFor:"signup_confirmation-body"}),(0,g.jsx)(_,{children:(0,g.jsx)(Ae.T,{id:"signup_confirmation-body",cols:50,rows:15,"data-automation-id":"signup_confirmation_email_body",value:t,onChange:(0,m.k9)(i)})})]})}function $e(){const[e]=(0,k.iK)("signup_confirmation","enabled"),[t,i]=(0,k.iK)("subscription","pages","confirmation");return e?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("confirmationPage"),description:(0,m.t)("confirmationPageDescription"),htmlFor:"subscription-pages-confirmation"}),(0,g.jsx)(_,{children:(0,g.jsx)(I,{value:t,preview:"confirm",setValue:i,id:"subscription-pages-confirmation",automationId:"page_selection",linkAutomationId:"preview_page_link"})})]}):null}function ze(){const[e]=(0,k.iK)("signup_confirmation","enabled"),[t,i]=(0,k.iK)("signup_confirmation","use_mailpoet_editor"),[s]=(0,k.iK)("signup_confirmation","transactional_email_id"),n=(0,k.y3)("openEmailCustomizer");return e?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("emailCustomizerTitle"),description:(0,m.t)("emailCustomizerDescription"),htmlFor:"mailpoet_confirmation_email_customizer"}),(0,g.jsxs)(_,{children:[(0,g.jsx)(D.S,{id:"mailpoet_confirmation_email_customizer",automationId:"mailpoet_confirmation_email_customizer",checked:"1"===t,onCheck:e=>i(e?"1":"")}),(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,g.jsx)(f.$,{type:"button",onClick:()=>n(s),variant:"secondary",dimension:"small",children:(0,m.t)("openTemplateEditor")})})]})]}):null}function We(){return(0,g.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,g.jsx)(Me,{}),(0,g.jsx)(ze,{}),(0,g.jsx)(De,{}),(0,g.jsx)(Pe,{}),(0,g.jsx)($e,{}),(0,g.jsx)(S,{})]})}function Le(){const[e,t]=(0,k.iK)("woocommerce","use_mailpoet_editor"),[i]=(0,k.iK)("woocommerce","transactional_email_id"),s=(0,k.y3)("openWoocommerceCustomizer");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("wcCustomizerTitle"),description:(0,m.t)("wcCustomizerDescription"),htmlFor:"mailpoet_wc_customizer"}),(0,g.jsxs)(_,{children:[(0,g.jsx)(D.S,{id:"mailpoet_wc_customizer",automationId:"mailpoet_wc_customizer",checked:"1"===e,onCheck:e=>t(e?"1":"")}),(0,g.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,g.jsx)(f.$,{type:"button",onClick:()=>s(i),variant:"secondary",dimension:"small",children:(0,m.t)("openTemplateEditor")})})]})]})}var Re=i(44257);function Oe(){const[e,t]=(0,k.iK)("woocommerce","optin_on_checkout","enabled"),[i,s]=(0,k.iK)("woocommerce","optin_on_checkout","segments"),[n,a]=(0,k.iK)("woocommerce","optin_on_checkout","message"),[o,r]=(0,k.iK)("woocommerce","optin_on_checkout","position"),l=(0,k.y3)("setErrorFlag"),c=""===n.trim();return(0,b.useEffect)((()=>{l(c)}),[c,l]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,O.__)("Opt-in on checkout","mailpoet"),description:(0,O.__)('Customers can subscribe to the "WooCommerce Customers" list and optionally other lists via a checkbox on the checkout page.',"mailpoet"),htmlFor:"mailpoet_wc_checkout_optin"}),(0,g.jsxs)(_,{children:[(0,g.jsx)(Re.Checkbox,{id:"mailpoet_wc_checkout_optin",automationId:"mailpoet_wc_checkout_optin",checked:"1"===e,onCheck:e=>t(e?"1":"")}),"1"===e&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("br",{}),(0,g.jsxs)("label",{htmlFor:"mailpoet_wc_checkout_optin_segments",children:[(0,O.__)("Lists to also subscribe customers to:","mailpoet"),(0,g.jsx)("br",{}),(0,g.jsx)("span",{children:(0,O.__)('Leave empty to subscribe only to "WooCommerce Customers" list')})]}),(0,g.jsx)("br",{}),(0,g.jsx)(N,{id:"mailpoet_wc_checkout_optin_segments",value:i,setValue:s,placeholder:(0,O.__)("Select lists...","mailpoet")})]})]}),"1"===e&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,O.__)("Checkbox opt-in message","mailpoet"),description:(0,O.__)('This is the checkbox message your customers will see on your WooCommerce checkout page to subscribe to the "WooCommerce Customers" list and lists selected in "Opt-in on checkout" setting.'),htmlFor:"mailpoet_wc_checkout_optin_message"}),(0,g.jsxs)(_,{children:[(0,g.jsx)(Re.Input,{dimension:"small",type:"text",id:"mailpoet_wc_checkout_optin_message","data-automation-id":"mailpoet_wc_checkout_optin_message",value:n,onChange:(0,Re.onChange)(a),placeholder:(0,O.__)("Checkbox opt-in message","mailpoet")}),(0,g.jsx)("br",{}),c&&(0,g.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,O.__)("The checkbox opt-in message cannot be empty.","mailpoet")})]})]}),"1"===e&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,O.__)("Checkbox opt-in position","mailpoet"),description:(0,O.__)("Select where the marketing opt-in checkbox appears on the checkout page.","mailpoet"),htmlFor:"mailpoet_wc_checkout_optin_position"}),(0,g.jsx)(_,{children:(0,g.jsxs)(Re.Select,{id:"mailpoet_wc_checkout_optin_position",value:o,onChange:(0,Re.onChange)(r),automationId:"mailpoet_wc_checkout_optin_position",isMinWidth:!0,dimension:"small",children:[(0,g.jsx)("option",{value:"after_billing_info","data-automation-id":"after_billing_info",children:(0,O.__)("After billing info","mailpoet")}),(0,g.jsx)("option",{value:"after_order_notes","data-automation-id":"after_order_notes",children:(0,O.__)("After order notes","mailpoet")}),(0,g.jsx)("option",{value:"after_terms_and_conditions","data-automation-id":"after_terms_and_conditions",children:(0,O.__)("After terms and conditions","mailpoet")}),(0,g.jsx)("option",{value:"before_payment_methods","data-automation-id":"before_payment_methods",children:(0,O.__)("Before payment methods","mailpoet")}),(0,g.jsx)("option",{value:"before_terms_and_conditions","data-automation-id":"before_terms_and_conditions",children:(0,O.__)("Before terms and conditions","mailpoet")})]})})]})]})}function Ve(){const[e,t]=(0,k.iK)("mailpoet_subscribe_old_woocommerce_customers","enabled");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{title:(0,m.t)("subscribeOldWCTitle"),description:(0,m.t)("subscribeOldWCDescription"),htmlFor:"mailpoet_subscribe_old_wc_customers"}),(0,g.jsx)(_,{children:(0,g.jsx)(D.S,{id:"mailpoet_subscribe_old_wc_customers",automationId:"mailpoet_subscribe_old_wc_customers",checked:"1"===e,onCheck:e=>t(e?"1":"")})})]})}function Be(){return(0,g.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,g.jsx)(Le,{}),(0,g.jsx)(Oe,{}),(0,g.jsx)(Ve,{}),(0,g.jsx)(S,{})]})}var Ue=i(87948),qe=i(98968);function Ge(){const[e,t]=(0,b.useState)(!0);return e&&(0,g.jsxs)(qe.A,{className:"mailpoet-welcome-wizard-confirmation-modal",title:(0,O.__)("Confirm sending service selection","mailpoet"),onRequestClose:()=>{},isDismissible:!1,children:[(0,g.jsx)("p",{children:(0,Ue.A)((0,O.__)('Your currently selected sending method is "MailPoet Sending Service". The API key you entered is not valid for sending with our sending service. You can either <link>upgrade to a subscription</link> that allows you to send with our service or choose a different sending service',"mailpoet"),{link:(0,g.jsxs)("a",{href:`https://account.mailpoet.com/?s=${window.mailpoet_subscribers_count}&utm_source=plugin&utm_medium=settings&utm_campaign=switch-to-sending-plan&ref=settings-key-activation`,target:"_blank",rel:"noopener noreferrer",children:[" "," "," "]})})}),(0,g.jsx)("div",{className:"mailpoet-welcome-wizard-confirmation-modal-buttons",children:(0,g.jsx)(Re.Button,{onClick:()=>{t(!1),window.location.href="admin.php?page=mailpoet-settings#/mta/other"},children:(0,O.__)("Update service settings","mailpoet")})})]})}const He=window.location.href.includes("/mta");function Ye(){const e=(0,k.d4)("isSaving")(),t=(0,k.d4)("hasWooCommerce")();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.V,{}),e&&(0,g.jsx)(c.R,{}),(0,g.jsx)(o.D,{}),(0,g.jsx)(l.q,{}),(0,g.jsx)(r.D,{}),(0,g.jsx)(u.O,{storeName:"mailpoet-settings"}),(0,g.jsxs)(d.k,{activeKey:"basics",children:[(0,g.jsx)(p.o,{route:"basics/:showModal?",title:(0,m.t)("basicsTab"),automationId:"basic_settings_tab",children:(0,g.jsx)(G,{})},"basics"),(0,g.jsx)(p.o,{title:(0,m.t)("signupConfirmationTab"),automationId:"signup_settings_tab",children:(0,g.jsx)(We,{})},"signup"),(0,g.jsx)(p.o,{route:"mta/:subPage?",title:(0,m.t)("sendWithTab"),automationId:"send_with_settings_tab",children:(0,g.jsx)(Ee,{})},"mta"),t&&(0,g.jsx)(p.o,{title:(0,m.t)("wooCommerceTab"),automationId:"woocommerce_settings_tab",children:(0,g.jsx)(Be,{})},"woocommerce"),(0,g.jsx)(p.o,{title:(0,m.t)("advancedTab"),automationId:"settings-advanced-tab",children:(0,g.jsx)(re,{})},"advanced"),(0,g.jsx)(p.o,{title:(0,m.t)("keyActivationTab"),automationId:"activation_settings_tab",children:(0,g.jsx)(ue,{subscribersCount:window.mailpoet_subscribers_count})},"premium")]}),window.mailpoet_mss_active&&!window.mailpoet_mss_key_valid&&!He&&(0,g.jsx)(Ge,{})]})}function Xe(){return(0,g.jsx)(n.F.Provider,{value:(0,n.f)(window),children:(0,g.jsx)(Ye,{})})}const Ze=document.getElementById("settings_container");Ze&&((0,Re.registerTranslations)(),(0,a.k)(),(0,s.H)(Ze).render((0,g.jsx)(Xe,{})))},41669:e=>{e.exports=jQuery}},e=>{e.O(0,[223],(()=>e(e.s=52503))),e.O()}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{548:function(e,t,n){"use strict";var r=n(533),i=n.n(r),a=n(536),o=n.n(a),s=n(10),c=n.n(s),l=n(528),u=n.n(l);t.a=function(e){var t=e.className,n=e.children,r=o()(e,["className","children"]);return c.a.createElement("fieldset",i()({},r,{className:u()(t,"form-fieldset")}),n)}},555:function(e,t,n){"use strict";var r=n(533),i=n.n(r),a=n(536),o=n.n(a),s=n(10),c=n.n(s),l=n(528),u=n.n(l);t.a=function(e){var t=e.className,n=e.children,r=o()(e,["className","children"]);return c.a.createElement("legend",i()({},r,{className:u()(t,"form-legend")}),n)}},556:function(e,t,n){"use strict";var r=n(533),i=n.n(r),a=n(536),o=n.n(a),s=n(10),c=n.n(s),l=n(528),u=n.n(l);t.a=function(e){var t=e.className,n=e.children,r=o()(e,["className","children"]);return c.a.createElement("h3",i()({},r,{className:u()(t,"form-section-heading")}),n)}},557:function(e,t,n){"use strict";var r=n(107),i=n.n(r),a=n(108),o=n.n(a),s=n(530),c=n.n(s),l=n(529),u=n.n(l),p=n(534),f=n.n(p),d=n(531),m=n.n(d),y=n(35),b=n.n(y),g=n(12),h=n.n(g),v=n(10),O=n.n(v),j=n(528),P=n.n(j),w=n(1),N=n(34),E=n(538),S=n.n(E);n(569);function A(e){var t=e.children;return O.a.createElement("span",{className:"screen-reader-text"},t)}var D=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(a))),b()(f()(n),"dismissTimeout",null),n}return m()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.dismissTimeout),this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"getIcon",value:function(){var e;switch(this.props.status){case"is-info":e="info";break;case"is-success":e="checkmark";break;case"is-error":case"is-warning":e="notice";break;default:e="info"}return e}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.icon,i=e.isCompact,a=e.isLoading,o=e.onDismissClick,s=e.showDismiss,c=void 0===s?!i:s,l=e.status,u=e.text,p=e.translate,f=P()("notice",l,n,{"is-compact":i,"is-loading":a,"is-dismissable":c});return O.a.createElement("div",{className:f},O.a.createElement("span",{className:"notice__icon-wrapper"},O.a.createElement(S.a,{className:"notice__icon",icon:r||this.getIcon(),size:24})),O.a.createElement("span",{className:"notice__content"},O.a.createElement("span",{className:"notice__text"},u||t)),u?t:null,c&&O.a.createElement("span",{tabIndex:"0",className:"notice__dismiss",onClick:o,onKeyDown:o,role:"button","aria-label":p("Dismiss")},O.a.createElement(S.a,{icon:"cross",size:24}),O.a.createElement(A,null,p("Dismiss"))))}}]),t}(v.Component);b()(D,"defaultProps",{className:"",duration:0,icon:null,isCompact:!1,isLoading:!1,onDismissClick:w.noop,status:null,text:null}),b()(D,"propTypes",{className:h.a.string,duration:h.a.number,icon:h.a.string,isCompact:h.a.bool,isLoading:h.a.bool,onDismissClick:h.a.func,showDismiss:h.a.bool,status:h.a.oneOf(["is-error","is-info","is-success","is-warning","is-plain"]),text:h.a.oneOfType([h.a.arrayOf(h.a.oneOfType([h.a.string,h.a.node])),h.a.oneOfType([h.a.string,h.a.node])]),translate:h.a.func.isRequired});t.a=Object(N.localize)(D)},564:function(e,t,n){"use strict";var r=n(533),i=n.n(r),a=n(536),o=n.n(a),s=n(10),c=n.n(s),l=n(528),u=n.n(l);n(606);t.a=function(e){var t=e.inputRef,n=e.className,r=e.isError,a=o()(e,["inputRef","className","isError"]);return c.a.createElement("select",i()({},a,{ref:t,className:u()(n,"form-select",{"is-error":r})}))}},569:function(e,t,n){},578:function(e,t,n){"use strict";var r=n(533),i=n.n(r),a=n(536),o=n.n(a),s=n(107),c=n.n(s),l=n(108),u=n.n(l),p=n(530),f=n.n(p),d=n(529),m=n.n(d),y=n(534),b=n.n(y),g=n(531),h=n.n(g),v=n(35),O=n.n(v),j=n(528),P=n.n(j),w=n(34),N=n(1),E=n(10),S=n.n(E),A=n(12),D=n.n(A),R=n(720),T=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(i))),O()(b()(n),"getDefaultButtonAction",function(){return n.props.isSubmitting?n.props.translate("Saving\u2026"):n.props.translate("Save Settings")}),n}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.isPrimary,a=o()(e,["children","className","isPrimary"]),s=P()(n,"form-button","button",{"is-borderless":this.props.borderless});return S.a.createElement(R.a,i()({},Object(N.omit)(a,["isSubmitting","moment","numberFormat","translate","borderless"]),{isPrimary:r,className:s}),E.Children.count(t)?t:this.getDefaultButtonAction())}}]),t}(S.a.Component);O()(T,"defaultProps",{isSubmitting:!1,isPrimary:!0,type:"submit",borderless:!1}),T.propTypes={isSubmitting:D.a.bool,isPrimary:D.a.bool,type:D.a.string,borderless:D.a.bool},t.a=Object(w.localize)(T)},583:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},t.merge=function(e,n,i){if(!n)return e;if("object"!==typeof n){if(Array.isArray(e))e.push(n);else{if("object"!==typeof e)return[e,n];(i.plainObjects||i.allowPrototypes||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!==typeof e)return[e].concat(n);var a=e;return Array.isArray(e)&&!Array.isArray(n)&&(a=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(n)?(n.forEach(function(n,a){r.call(e,a)?e[a]&&"object"===typeof e[a]?e[a]=t.merge(e[a],n,i):e.push(n):e[a]=n}),e):Object.keys(n).reduce(function(e,a){var o=n[a];return r.call(e,a)?e[a]=t.merge(e[a],o,i):e[a]=o,e},a)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),n="",r=0;r<t.length;++r){var a=t.charCodeAt(r);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=t.charAt(r):a<128?n+=i[a]:a<2048?n+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?n+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(r+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(r)),n+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return n},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var c=o[s],l=a[c];"object"===typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:c}),n.push(l))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],i=0;i<t.length;++i)"undefined"!==typeof t[i]&&r.push(t[i]);n.obj[n.prop]=r}}return t}(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},584:function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},590:function(e,t,n){"use strict";var r=n(10),i=n.n(r),a=n(12),o=n.n(a),s=n(528),c=n.n(s),l=n(834),u=n(556),p=function(e){var t=e.heading,n=e.children;return i.a.createElement(l.a,{className:c()("settings-group-card","card","is-compact")},t&&i.a.createElement(u.a,{className:"settings-group-card__heading"},t),i.a.createElement("div",{className:c()("settings-group-card__content",{"is-full-width":!t})},n))};p.propTypes={heading:o.a.node},t.a=p},606:function(e,t,n){},613:function(e,t,n){"use strict";var r=n(624),i=n(625),a=n(584);e.exports={formats:a,parse:i,stringify:r}},624:function(e,t,n){"use strict";var r=n(583),i=n(584),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return o.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,n,i,a,o,c,l,u,p,f,d,m){var y=t;if("function"===typeof l)y=l(n,y);else if(y instanceof Date)y=f(y);else if(null===y){if(a)return c&&!m?c(n,s.encoder):n;y=""}if("string"===typeof y||"number"===typeof y||"boolean"===typeof y||r.isBuffer(y))return c?[d(m?n:c(n,s.encoder))+"="+d(c(y,s.encoder))]:[d(n)+"="+d(String(y))];var b,g=[];if("undefined"===typeof y)return g;if(Array.isArray(l))b=l;else{var h=Object.keys(y);b=u?h.sort(u):h}for(var v=0;v<b.length;++v){var O=b[v];o&&null===y[O]||(g=Array.isArray(y)?g.concat(e(y[O],i(n,O),i,a,o,c,l,u,p,f,d,m)):g.concat(e(y[O],n+(p?"."+O:"["+O+"]"),i,a,o,c,l,u,p,f,d,m)))}return g};e.exports=function(e,t){var n=e,o=t?r.assign({},t):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!==typeof o.encoder)throw new TypeError("Encoder has to be a function.");var l="undefined"===typeof o.delimiter?s.delimiter:o.delimiter,u="boolean"===typeof o.strictNullHandling?o.strictNullHandling:s.strictNullHandling,p="boolean"===typeof o.skipNulls?o.skipNulls:s.skipNulls,f="boolean"===typeof o.encode?o.encode:s.encode,d="function"===typeof o.encoder?o.encoder:s.encoder,m="function"===typeof o.sort?o.sort:null,y="undefined"!==typeof o.allowDots&&o.allowDots,b="function"===typeof o.serializeDate?o.serializeDate:s.serializeDate,g="boolean"===typeof o.encodeValuesOnly?o.encodeValuesOnly:s.encodeValuesOnly;if("undefined"===typeof o.format)o.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,o.format))throw new TypeError("Unknown format option provided.");var h,v,O=i.formatters[o.format];"function"===typeof o.filter?n=(v=o.filter)("",n):Array.isArray(o.filter)&&(h=v=o.filter);var j,P=[];if("object"!==typeof n||null===n)return"";j=o.arrayFormat in a?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var w=a[j];h||(h=Object.keys(n)),m&&h.sort(m);for(var N=0;N<h.length;++N){var E=h[N];p&&null===n[E]||(P=P.concat(c(n[E],E,w,u,p,f?d:null,v,m,y,b,O,g)))}var S=P.join(l),A=!0===o.addQueryPrefix?"?":"";return S.length>0?A+S:""}},625:function(e,t,n){"use strict";var r=n(583),i=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),s=o?r.slice(0,o.index):r,c=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var l=0;null!==(o=a.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+r.slice(o.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;i>=0;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(r);else{a=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(s,10);!isNaN(c)&&o!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=r:a[s]=r}r=a}return r}(c,t,n)}};e.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!==typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"===typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:a.delimiter,n.depth="number"===typeof n.depth?n.depth:a.depth,n.arrayLimit="number"===typeof n.arrayLimit?n.arrayLimit:a.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"===typeof n.decoder?n.decoder:a.decoder,n.allowDots="boolean"===typeof n.allowDots?n.allowDots:a.allowDots,n.plainObjects="boolean"===typeof n.plainObjects?n.plainObjects:a.plainObjects,n.allowPrototypes="boolean"===typeof n.allowPrototypes?n.allowPrototypes:a.allowPrototypes,n.parameterLimit="number"===typeof n.parameterLimit?n.parameterLimit:a.parameterLimit,n.strictNullHandling="boolean"===typeof n.strictNullHandling?n.strictNullHandling:a.strictNullHandling,""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var s="string"===typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=r.split(t.delimiter,o),c=0;c<s.length;++c){var l,u,p=s[c],f=p.indexOf("]="),d=-1===f?p.indexOf("="):f+1;-1===d?(l=t.decoder(p,a.decoder),u=t.strictNullHandling?null:""):(l=t.decoder(p.slice(0,d),a.decoder),u=t.decoder(p.slice(d+1),a.decoder)),i.call(n,l)?n[l]=[].concat(n[l]).concat(u):n[l]=u}return n}(e,n):e,c=n.plainObjects?Object.create(null):{},l=Object.keys(s),u=0;u<l.length;++u){var p=l[u],f=o(p,s[p],n);c=r.merge(c,f,n)}return r.compact(c)}},686:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var r={};n.r(r),n.d(r,"labelsPrint",function(){return o}),n.d(r,"labelTestPrint",function(){return s}),n.d(r,"selfHelp",function(){return c}),n.d(r,"refreshServiceData",function(){return l});var i=n(76),a="wc/v1/connect/",o=function(){return"".concat(a,"label/print")},s=function(){return"".concat(a,"label/preview")},c=function(){return"".concat(a,"self-help")},l=function(){return"".concat(a,"service-data-refresh")},u=function(e){if(e.data.message)throw e.data.message;throw JSON.stringify(e)},p=function(e,t){return Object(i.a)().post(e,t).catch(u)},f=function(e,t){return Object(i.a)().createGetUrlWithNonce(e,t)}},805:function(e,t,n){},833:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"UPDATE_PAPER_SIZE",function(){return x}),n.d(r,"PRINTING_IN_PROGRESS",function(){return z}),n.d(r,"PRINTING_ERROR",function(){return I}),n.d(r,"updatePaperSize",function(){return L}),n.d(r,"print",function(){return F});var i=n(10),a=n.n(i),o=(n(805),n(107)),s=n.n(o),c=n(108),l=n.n(c),u=n(530),p=n.n(u),f=n(529),d=n.n(f),m=n(534),y=n.n(m),b=n(531),g=n.n(b),h=n(35),v=n.n(h),O=n(12),j=n.n(O),P=n(34),w=n(30),N=n(109),E=n(613),S=n(1),A=n.n(S),D=n(686),R=A.a.memoize(function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)return"addon";if(navigator.userAgent.includes("Firefox"))return"addon";if(navigator.mimeTypes["application/pdf"])return"native";var e=function(e){try{return new ActiveXObject(e)}catch(t){}};return!(!e("AcroPDF.PDF")&&!e("PDF.PdfCtrl"))&&"addon"}),T={a4:{name:Object(P.translate)("A4"),exclude:function(e){return["US","CA","MX","DO"].includes(e)}},label:{name:Object(P.translate)('Label (4"x6")')},legal:{name:Object(P.translate)("Legal")},letter:{name:Object(P.translate)("Letter")}},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!T[e])throw new Error("Invalid paper size: ".concat(e));var r={paper_size:e,label_id_csv:A.a.filter(A.a.map(t,"labelId")).join(","),caption_csv:A.a.filter(A.a.map(t,function(e){return e.caption?encodeURIComponent(e.caption):null})).join(",")},i=n?D.c.labelTestPrint():D.c.labelsPrint();return D.a(i,Object(E.stringify)(r))},C=null,_=function(e){return new Promise(function(t,n){C&&document.body.removeChild(C),(C=document.createElement("iframe")).src=e,C.style.position="fixed",C.style.left="-999px",C.onload=function(){t()},C.onerror=function(e){n(e)},document.body.appendChild(C)})},x="UPDATE_PAPER_SIZE",z="PRINTING_IN_PROGRESS",I="PRINTING_ERROR",L=function(e){return{type:x,paperSize:e}},F=function(){return function(e,t){e({type:z,inProgress:!0});var n=t().paperSize,r=[{caption:Object(P.translate)("TEST LABEL 1")}];"label"!==n&&r.push({caption:Object(P.translate)("TEST LABEL 2")}),function(e){switch(R()){case"native":return _(e).then(function(){C.contentWindow.print()});case"addon":return window.open(e)?Promise.resolve():Promise.reject(new Error("Unable to open label PDF in new tab"));default:return _(e),Promise.resolve()}}(function(e,t){return R()?k(e,t,!0):null}(n,r)).then(function(){e({type:z,inProgress:!1})}).catch(function(t){e({type:I,error:t})})}},H=n(557),U=function(e){var t=e.children,n=e.isWarning;return a.a.createElement(H.a,{status:n?"is-warning":"is-error",showDismiss:!1},t)};U.propTypes={isWarning:j.a.bool};var B=U,G=n(578),q=n(548),V=n(564),W=n(555),Q=n(590),J=function(e){function t(){var e,n;s()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=p()(this,(e=d()(t)).call.apply(e,[this].concat(i))),v()(y()(n),"onPaperSizeChange",function(e){return n.props.updatePaperSize(e.target.value)}),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.paperSize,n=e.country,r=e.printingInProgress,i=e.error,o=e.print,s=e.isShippingLoaded,c=function(e){return A.a.reduce(T,function(t,n,r){var i=n.name,a=n.exclude;return a&&a(e)||(t[r]=i),t},{})}(n);return s?a.a.createElement(Q.a,{heading:Object(P.translate)("Print")},i&&a.a.createElement(B,null,i),a.a.createElement(W.a,null,Object(P.translate)("Having trouble configuring your printer?")),a.a.createElement("p",null,Object(P.translate)("You can run a test print for shipping labels by selecting the paper size, then print.")),a.a.createElement(q.a,null,a.a.createElement(W.a,null,Object(P.translate)("Paper size")),a.a.createElement("div",{className:"print-test-label__form-container"},a.a.createElement(V.a,{className:"print-test-label__paper-size",value:t,onChange:this.onPaperSizeChange},Object.keys(c).map(function(e){return a.a.createElement("option",{key:e,value:e},c[e])})),a.a.createElement(G.a,{type:"button",disabled:Boolean(r),onClick:o,isPrimary:!1},Object(P.translate)("Print"))))):null}}]),t}(i.Component);v()(J,"propTypes",{paperSize:j.a.string.isRequired,country:j.a.string.isRequired,printingInProgress:j.a.bool,error:j.a.string,updatePaperSize:j.a.func.isRequired,print:j.a.func.isRequired});var M=Object(N.b)(function(e){return e},function(e){return Object(w.b)(r,e)})(J),K=n(36),X=n.n(K),Z={};Z[x]=function(e,t){var n=t.paperSize;return X()({},e,{paperSize:n})},Z[z]=function(e,t){var n=t.inProgress,r=X()({},e,{printingInProgress:n});return n&&delete r.error,r},Z[I]=function(e,t){var n=t.error;return X()({},e,{printingInProgress:!1,error:n.toString()})};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Z[t.type]?Z[t.type](e,t):e};t.default=function(e){var t=e.paperSize,n=e.storeOptions,r=e.isShippingLoaded;return{getReducer:function(){return Y},getInitialState:function(){return{paperSize:t,country:n.origin_country,isShippingLoaded:r}},getStateKey:function(){return"wcs-print-test-label"},View:function(){return a.a.createElement(M,null)}}}}}]);